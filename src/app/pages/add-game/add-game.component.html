<app-default-dashboard-layout>
  <h1 class="text-start font-bold italic text-3xl w-full">
    #{{ title.toUpperCase() }}
  </h1>

  <section
    class="flex flex-col lg:flex-row items-center justify-center
         w-full gap-5 md:gap-10 lg:gap-40 p-4 md:p-8 bg-white/10 rounded-xl">


    <!-- Preview -->
    <section
      class="flex flex-col items-center gap-5 p-5 w-full lg:w-1/3 order-1 lg:order-2
             md:mt-5 md:block-hidden">
      <div class="flex flex-col items-center gap-5">
        <p *ngIf="!previewCard.image"
           class="text-sm text-center text-gray-500 mt-2">
          Nenhum link fornecido. Imagem Padrão.
        </p>

        <!-- IMAGEM -->
        <div
          class="overflow-hidden rounded-lg shadow-md mx-auto"
          [ngClass]="{'w-[150px] h-[180px]': isSmallScreen(),
                    'w-[226px] h-[270px]': !isSmallScreen()}">
          <img
            [src]=" previewCard.image || '/assets/illustration-game-card.png'"
            alt="Preview da imagem"
            class="w-full h-full object-cover"
          />
        </div>

        <!-- TEXTO -->
        <div class="flex flex-col justify-star p-5 w-full gap-2 text-white">
          <!-- Autor -->
          <span *ngIf="previewCard.author_name; else defaultAuthor"
                class="text-xl block opacity-75 -mb-1">
            {{ previewCard.author_name.length < 20 ? previewCard.author_name : previewCard.author_name.slice(0, 20) + '...' }}
          </span>
          <ng-template #defaultAuthor>
            <span class="text-xl block opacity-75 -mb-1">Criador</span>
          </ng-template>

          <!-- Nome do jogo -->
          <span *ngIf="previewCard.game_title; else defaultGameTitle"
                class="text-2xl block font-bold">
            {{ previewCard.game_title.length < 13 ? previewCard.game_title : previewCard.game_title.slice(0, 13) + '...' }}
          </span>
          <ng-template #defaultGameTitle>
            <span class="text-2xl block font-bold">Nome do jogo</span>
          </ng-template>
        </div>
      </div>
    </section>

    <!-- Formulário -->
    <form [formGroup]="registerCardForm" (ngSubmit)="onSubmit()"
          class="flex flex-col items-center p-5
    ml-4 w-full lg:w-1/3 gap-2 order-2 lg:order-1">
      <app-primary-input
        formControlName="image"
        autofocus
        type="link"
        label="Imagem"
        placeholder="Url imagem">
      </app-primary-input>

      <app-primary-input
        formControlName="game_title"
        type="text"
        label="Titulo"
        placeholder="Titulo">
      </app-primary-input>

      <app-primary-input
        formControlName="description"
        type="text"
        label="Descrição"
        placeholder="Descrição">
      </app-primary-input>

      <app-primary-input
        formControlName="link"
        type="link"
        label="Link"
        placeholder="Url Jogo">
      </app-primary-input>

      <button
        type="submit"
        [disabled]="!registerCardForm.valid"
        class="w-1/3 h-10 rounded-lg text-center font-black italic
               text-base bg-orange-salmon hover:bg-light-salmon active:bg-cool-yellow disabled:bg-blue-950">
        {{ primaryBtnText.toUpperCase() }}
      </button>
    </form>
  </section>
</app-default-dashboard-layout>
